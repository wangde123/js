<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>轮播图jQuery</title>
</head>
<link rel="stylesheet" href="col3.css" type="text/css">
<script src="https://www.jq22.com/jquery/jquery-1.10.2.js"></script>

<body>
    <div class="col">
        <div class="col_window">
            <div class="col_con">
                <img src="t1.png" alt="" width="600">
                <img src="t2.png" alt="" width="600">
                <img src="t3.png" alt="" width="600">
            </div>
            <div class="arrows">
                <div class="arrows_Lcon">
                    <div class="arrows_left">
                        <</div>
                    </div>
                    <div class="arrows_Rcon">
                        <div class="arrows_right">></div>
                    </div>
                </div>
                <div class="dots">
                    <div>
                        <span style="background-color:#a1b5c3;"></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </div>
</body>
<script>
    $('.arrows').hide();
    $('.col_con').css({
        width: "" + $('.col_window img').length * 600 + "px"
    });
    $('.col_window').bind('mouseover', function() { //鼠标放上图片
        $('.arrows').show(0);
        clearInterval(timer);
    }).bind('mouseleave', function() {
        $('.arrows').hide(0);
        timer = setInterval(auto, 5000);
    });
    var left = 0;

    function auto() { //自动轮播
        left -= 600;
        if (left < -($('.col_con img').length - 1) * 600)
            left = 0;
        $('.col_con').css({
            left: "" + left + "px"
        });
        for (var j = 0; j < ($('span').length); j++)
            $('span:eq(' + j + ')').css({
                backgroundColor: "#496274"
            });
        $('span:eq(' + (-left / 600) + ')').css({
            backgroundColor: "#a1b5c3"
        });
    }
    var timer = setInterval(auto, 5000);
    $('.arrows_Lcon').on('click', function() { //左滑
        left += 600;
        if (left > 0) {
            left = -($('.col_window img').length - 1) * 600;
        }
        $('.col_con').css({
            left: "" + left + "px"
        });
        for (var j = 0; j < ($('span').length); j++)
            $('span:eq(' + j + ')').css({
                backgroundColor: "#496274"
            });
        $('span:eq(' + (-left / 600) + ')').css({
            backgroundColor: "#a1b5c3"
        });
        clearInterval(timer);
        //timer = setInterval(auto,5000);
    });
    $('.arrows_Rcon').on('click', function() { //右滑
        left -= 600;
        if (left < -($('.col_window img').length - 1) * 600)
            left = 0;
        $('.col_con').css({
            left: "" + left + "px"
        });
        for (var j = 0; j < ($('span').length); j++)
            $('span:eq(' + j + ')').css({
                backgroundColor: "#496274"
            });
        $('span:eq(' + (-left / 600) + ')').css({
            backgroundColor: "#a1b5c3"
        });
        clearInterval(timer);
        //timer = setInterval(auto,5000);
    });
    $('.dots span').on('click', function() { //点击切换
        for (var j = 0; j < ($('span').length); j++)
            $('span:eq(' + j + ')').css({
                backgroundColor: "#496274"
            });
        $(this).css({
            backgroundColor: "#a1b5c3"
        });
        left = -600 * $(this).index();
        $('.col_con').css({
            left: "" + left + "px"
        });
        clearInterval(timer);
        //timer = setInterval(auto,5000);
    });
</script>

</html>